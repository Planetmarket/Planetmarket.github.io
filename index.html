<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>Interactive Agriculture Flow</title>
<style>
* { box-sizing: border-box; margin:0; padding:0; }
body {
    font-family: sans-serif;
    min-height: 100vh;
    background: linear-gradient(160deg, #e6f4ea, #c6e0c3);
    display: flex;
    flex-direction: column;
    align-items: center;
    padding: 20px;
    color: #000;
}

header { text-align: center; margin-bottom: 20px; }
header h1 { font-size: clamp(1.8rem, 4vw, 2.8rem); color: #000; }
header p { font-size: clamp(1rem, 2vw, 1.3rem); color: #000; margin-top: 5px; font-style: italic; }

main { display: flex; flex-direction: column; align-items: center; width: 100%; max-width: 900px; }

.grid-container { display: grid; grid-template-columns: repeat(5, 1fr); grid-template-rows: repeat(4, 1fr); gap:0; position: relative; width:100%; max-width:95vw; aspect-ratio:5/4; margin-bottom:20px; }
.grid-cell { display:flex; justify-content:center; align-items:center; position:relative; text-align:center; padding:clamp(4px,2vw,10px); }

button {
    font-size: clamp(0.5rem, 1.8vw, 0.85rem);
    font-weight:600;
    border:none;
    border-radius:12px;
    cursor:pointer;
    transition: transform 0.15s ease, box-shadow 0.15s ease, background-color 0.2s ease;
    box-shadow:0 2px 6px rgba(0,0,0,0.2);
    display:flex;
    align-items:center;
    justify-content:center;
    width:90%;
    max-width:90%;
    min-height:clamp(42px, 8vw, 58px);
    padding:clamp(10px, 2.5vw, 14px) clamp(12px, 3vw, 18px);
    position:relative;
    overflow:hidden;
    line-height:1.4;
    text-align:center;
    color:#fff;
}

button:hover { transform: translateY(-3px) scale(1.03); box-shadow:0 6px 12px rgba(0,0,0,0.25); }
button:active { transform: translateY(0) scale(0.97); box-shadow:0 3px 6px rgba(0,0,0,0.2); }

.ripple { position:absolute; border-radius:50%; background: rgba(255,255,255,0.5); transform:scale(0); animation:ripple 0.6s linear; pointer-events:none; z-index:20; }
@keyframes ripple { to { transform:scale(4); opacity:0; } }

/* Button colors */
.row1-btn { background: linear-gradient(145deg,#FFB900,#FFC84D); color:#000; }
.row3-btn { background: linear-gradient(145deg,#ff4500,#ff6b42); color:#fff; }
.row5-btn { background: linear-gradient(145deg,#107C10,#3aa64a); color:#fff; }
.row7-btn { background: linear-gradient(145deg,#006ee6,#3b9fff); color:#fff; }

svg { position:absolute; inset:0; width:100%; height:100%; pointer-events:none; z-index:0; }
.line { stroke:#000; stroke-width:1.5; fill:none; stroke-linecap:round; stroke-dasharray:5 5; animation:flow 2s linear infinite; transition: stroke 0.3s ease; }
@keyframes flow { to { stroke-dashoffset:-20; } }
.grid-container:hover .line { stroke:#00f; filter:drop-shadow(0 0 3px rgba(0,0,0,0.5)); }

.details-panel {
    background: rgba(255,255,255,0.9);
    padding: 20px;
    border-radius: 12px;
    box-shadow: 0 4px 12px rgba(0,0,0,0.1);
    width: 100%;
    max-width: 900px;
    min-height: 120px;
    font-size: 1rem;
    color: #333;
    font-family: 'Comic Neue', cursive; /* only here */
    white-space: pre-line;
    line-height: 1.5;
}

footer {
    margin-top: 30px;
    display: flex;
    gap: 50px;
    justify-content: center;
    align-items: center;
}

footer a img {
    width: 50px;
    height: 50px;
    object-fit: contain;
    transition: transform 0.2s;
}

footer a img:hover { transform: scale(1.2); }

@media (max-width:768px) { button { font-size: clamp(0.45rem,2.2vw,0.75rem); min-height: clamp(38px,9vw,52px); } .line { stroke-width:1.2; } }
@media (max-width:480px) { .grid-container{max-width:99vw; aspect-ratio:5/4.2;} button{font-size:clamp(0.4rem,2.5vw,0.65rem); min-height:clamp(35px,9vw,45px);} .line{stroke-width:1;} }
@media (max-width:360px) { button{font-size:clamp(0.35rem,3vw,0.6rem); min-height:clamp(32px,10vw,42px);} }
</style>
</head>
<body>

<header>
    <h1>Agriculture Flow Dashboard</h1>
    <p>Explore goals, problems, solutions, and technologies interactively</p>
</header>

<main>
    <div class="grid-container">
        <svg id="connectionSvg"></svg>

        <!-- Row 1 -->
        <div class="grid-cell"></div>
        <div class="grid-cell"></div>
        <div class="grid-cell"><button class="row1-btn" data-row="0" data-col="2" data-description="Ensure stable agriculture income through sustainable practices.">Agriculture Income</button></div>
        <div class="grid-cell"></div>
        <div class="grid-cell"></div>

        <!-- Row 2 -->
        <div class="grid-cell"><button class="row3-btn" data-row="1" data-col="0" data-description="Weather unpredictability affects crops and yields.">Weather</button></div>
        <div class="grid-cell"><button class="row3-btn" data-row="1" data-col="1" data-description="Pest infestations reduce productivity.">Pest</button></div>
        <div class="grid-cell"><button class="row3-btn" data-row="1" data-col="2" data-description="Small farms have limited resources and capacity.">Small Farms</button></div>
        <div class="grid-cell"><button class="row3-btn" data-row="1" data-col="3" data-description="Market price volatility affects farmers' income.">Price</button></div>
        <div class="grid-cell"><button class="row3-btn" data-row="1" data-col="4" data-description="Intermediaries often reduce farmers' profit margins.">Intermediaries</button></div>

        <!-- Row 3 -->
        <div class="grid-cell"><button class="row5-btn" data-row="2" data-col="0" data-description="Adaptable strategies to uncontrollable events.">Uncontrollable</button></div>
        <div class="grid-cell"><button class="row5-btn" data-row="2" data-col="1" data-description="Proper pesticide management to reduce losses.">Pesticides</button></div>
        <div class="grid-cell"><button class="row5-btn" data-row="2" data-col="2" data-description="Improve processing to increase finished products.">Finished Products</button></div>
        <div class="grid-cell"><button class="row5-btn" data-row="2" data-col="3" data-description="Use data to anticipate demand accurately.">Demand Data</button></div>
        <div class="grid-cell"><button class="row5-btn" data-row="2" data-col="4" data-description="Implement practices to avoid losses.">Avoidable</button></div>

        <!-- Row 4 -->
        <div class="grid-cell"></div>
        <div class="grid-cell"></div>
        <div class="grid-cell"></div>
        <div class="grid-cell"><button class="row7-btn" data-row="3" data-col="3" data-description="Planet Market technologies facilitate applying solutions.">Planet Market</button></div>
        <div class="grid-cell"></div>
    </div>

    <div class="details-panel" id="detailsPanel">
        Click a button to see friendly insights here.
    </div>
</main>

<footer>
    <a href="https://wa.me/" target="_blank"><img src="https://upload.wikimedia.org/wikipedia/commons/6/6b/WhatsApp.svg" alt="WhatsApp"></a>
    <a href="mailto:example@gmail.com"><img src="https://upload.wikimedia.org/wikipedia/commons/7/7e/Gmail_icon_%282020%29.svg" alt="Gmail"></a>
    <a href="https://www.facebook.com/sharer/sharer.php?u=YOUR_URL" target="_blank"><img src="https://upload.wikimedia.org/wikipedia/commons/5/51/Facebook_f_logo_%282019%29.svg" alt="Facebook Share"></a>
</footer>

<script>
function getButtonCenter(button) {
    const container = document.querySelector('.grid-container');
    const rect = button.getBoundingClientRect();
    const containerRect = container.getBoundingClientRect();
    return { x: rect.left + rect.width/2 - containerRect.left, y: rect.top + rect.height/2 - containerRect.top };
}

function drawConnections() {
    const svg = document.getElementById('connectionSvg');
    svg.innerHTML = '';
    const buttons = document.querySelectorAll('button');
    const buttonMap = {};
    buttons.forEach(btn => buttonMap[`${btn.dataset.row}-${btn.dataset.col}`] = getButtonCenter(btn));

    const connections = [
        {from:'1-0',to:'0-2'},{from:'1-1',to:'0-2'},{from:'1-2',to:'0-2'},{from:'1-3',to:'0-2'},{from:'1-4',to:'0-2'},
        {from:'1-0',to:'2-0'},{from:'1-1',to:'2-1'},{from:'1-2',to:'2-2'},{from:'1-3',to:'2-3'},{from:'1-4',to:'2-4'},
        {from:'2-2',to:'3-3'},{from:'2-3',to:'3-3'},{from:'2-4',to:'3-3'}
    ];

    connections.forEach(conn=>{
        if(buttonMap[conn.from] && buttonMap[conn.to]){
            const line = document.createElementNS('http://www.w3.org/2000/svg','line');
            line.classList.add('line');
            line.setAttribute('x1', buttonMap[conn.from].x);
            line.setAttribute('y1', buttonMap[conn.from].y);
            line.setAttribute('x2', buttonMap[conn.to].x);
            line.setAttribute('y2', buttonMap[conn.to].y);
            svg.appendChild(line);
        }
    });
}

window.addEventListener('load', drawConnections);
const resizeObserver = new ResizeObserver(drawConnections);
resizeObserver.observe(document.querySelector('.grid-container'));

const detailsPanel = document.getElementById('detailsPanel');
document.querySelectorAll('button').forEach(btn=>{
    btn.addEventListener('click', e=>{
        // Ripple effect
        const circle = document.createElement('span');
        circle.classList.add('ripple');
        const rect = btn.getBoundingClientRect();
        const size = Math.max(rect.width, rect.height);
        circle.style.width = circle.style.height = size + 'px';
        circle.style.left = (e.clientX - rect.left - size/2)+'px';
        circle.style.top = (e.clientY - rect.top - size/2)+'px';
        btn.appendChild(circle);
        setTimeout(()=>circle.remove(),600);

        // Show details
        detailsPanel.textContent = btn.dataset.description;
    });
});
</script>
</body>
</html>
